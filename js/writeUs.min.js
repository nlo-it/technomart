const openWriteUs=document.querySelector(".company-address"),writeUsForm=document.querySelector(".modal-write-us > form"),writeUsModal=document.querySelector(".modal-write-us"),writeUsName=document.querySelector(".user-name"),writeUsEmail=document.querySelector(".user-email"),closeWriteUs=document.querySelector(".modal-write-us .close-btn");try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}openWriteUs.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.remove("visually-hidden"),writeUsModal.classList.add("modal-show"),storage?(writeUsName.value=storage,writeUsEmail.focus()):writeUsName.focus(),writeUsName.focus()}),closeWriteUs.addEventListener("click",function(){writeUsModal.classList.add("visually-hidden"),writeUsModal.classList.remove("modal-show"),writeUsModal.classList.remove("modal-error")}),writeUsForm.addEventListener("submit",function(e){writeUsName.value&&writeUsEmail.value?isStorageSupport&&localStorage.setItem("userName",writeUsName.value):(e.preventDefault(),writeUsModal.classList.remove("modal-error"),writeUsModal.offsetWidth=writeUsModal.offsetWidth,writeUsModal.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(writeUsModal.classList.contains("visually-hidden")||(writeUsModal.classList.add("visually-hidden"),writeUsModal.classList.remove("modal-show"),writeUsModal.classList.remove("modal-error")))});
